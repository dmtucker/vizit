!function e(t,r,o){function i(a,s){if(!r[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(n)return n(a,!0);throw new Error("Cannot find module '"+a+"'")}var l=r[a]={exports:{}};t[a][0].call(l.exports,function(e){var r=t[a][1][e];return i(r?r:e)},l,l.exports,e,t,r,o)}return r[a].exports}for(var n="function"==typeof require&&require,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(e){var t=e("./node_modules/gjtk"),r=e("./visualizers/plain"),o=e("./visualizers/spatial"),i={canvas:document.getElementById("canvas"),data:null,supported_visualizations:["plain","spatial"],toggle:document.getElementById("toggle"),visualization:"plain"};window.Vizit={version:"0.1.0",error:function(e){throw null==e&&(e="An error occurred in Vizit."),console.error(e),alert(e),window.location.assign("//dmtucker.github.io/vizit/"),new Error(e)},nextVisualization:function(e){var t=i.supported_visualizations.indexOf(e)+1;return t==i.supported_visualizations.length&&(t=0),i.supported_visualizations[t]},visualize:function(e){switch(e=e.toLowerCase(),e.toLowerCase()){case"spatial":i.visualization="spatial",document.getElementById("version").style.visibility="hidden","undefined"!=typeof OpenFusion&&null!=i.data.OpenFusion&&OpenFusion.spatial.preprocessor(i.data),i.map=o.visualizer(i.data,i.canvas.id);break;case"plain":i.visualization="plain",document.getElementById("version").style.visibility="visible","undefined"!=typeof OpenFusion&&null!=i.data.OpenFusion&&OpenFusion.plain.preprocessor(i.data),r.visualizer(i.data,i.canvas.id);break;default:Vizit.error("Supported visualizations: "+i.supported_visualizations)}},unvisualize:function(){null!=i.map&&(i.map.remove(),i.map=null);var e=document.createElement("div");e.id=i.canvas.id,i.canvas.parentNode.insertBefore(e,i.canvas.nextSibling),i.canvas.parentElement.removeChild(i.canvas),i.canvas=e},visualizeNext:function(){var e=Vizit.nextVisualization(i.visualization);Vizit.unvisualize(),i.toggle.innerHTML=Vizit.nextVisualization(e),Vizit.visualize(e)},init:function(e,r,o,n){t.isGeoJSON(e)?(i.data=e,i.canvas=document.getElementById(o),i.toggle=document.getElementById(n),i.toggle.addEventListener("click",Vizit.visualizeNext,!1),i.toggle.innerHTML=Vizit.nextVisualization(r),Vizit.visualize(r)):Vizit.error("Error: Only valid GeoJSON resources can be visualized!\n\nSee http://geojson.org/ for more information.")},features:function(e){var r=[];return t.featuresOf(e).map(function(e){r.push(e),null!=e.properties&&t.isFeatureCollection(e.properties.related)&&Vizit.features(e.properties.related).forEach(function(e){r.push(e)})}),r},HTMLFeature:function(e){var t="";if(null!=e.properties){var r=e.properties;if(null!=r.time){var o=new Date(r.time);t+='<time datetime="'+JSON.stringify(o)+'">'+o+"</time>"}null!=r.source&&(t+="<cite>"+r.source+"</cite>"),null!=r.text&&(t+="<blockquote>"+r.text+"</blockquote>"),null!=r.image&&(t+='<img src="data:image/jpeg;base64,'+r.image+'">')}return t}}},{"./node_modules/gjtk":2,"./visualizers/plain":8,"./visualizers/spatial":9}],2:[function(e,t){var r=e("point-in-polygon"),o=e("uri-js"),i=t.exports={isPosition:function(e){return Array.isArray(e)&&e.length>1&&e.every(function(e){return"number"==typeof e})},isPointCoordinates:function(e){return i.isPosition(e)},isMultiPointCoordinates:function(e){return Array.isArray(e)&&e.every(i.isPosition)},isLineStringCoordinates:function(e){return Array.isArray(e)&&e.length>1&&i.isMultiPointCoordinates(e)},isLinearRingCoordinates:function(e){return Array.isArray(e)&&e.length>3&&i.isLineStringCoordinates(e)&&i.equalPositions(e[0],e[e.length-1])},isMultiLineStringCoordinates:function(e){return Array.isArray(e)&&e.every(i.isLineStringCoordinates)},isPolygonCoordinates:function(e){return Array.isArray(e)&&e.every(i.isLinearRingCoordinates)&&e.every(function(e,t,r){return 0==t?!0:i.containedPolygon(e,r[0])})},isMultiPolygonCoordinates:function(e){return Array.isArray(e)&&e.every(i.isPolygonCoordinates)},validCRS:function(e){return null!=e&&("undefined"==typeof e.crs||null===e.crs||i.isCRS(e.crs))},validBbox:function(e){return null!=e&&("undefined"==typeof e.bbox||Array.isArray(e.bbox)&&e.bbox.length%2===0&&!0)},isLink:function(e){return null!=e&&null!=e.properties&&"string"==typeof e.properties.href&&o.parse(e.properties.href).errors.length<1&&("undefined"==typeof e.properties.type||"string"==typeof e.properties.type&&e.properties.type.length>0)},isCRS:function(e){return null!=e&&("name"===e.type&&null!=e.properties&&"string"==typeof e.properties.name&&e.properties.name.length>0||"link"===e.type&&i.isLink(e.properties))},isPoint:function(e){return null!=e&&"Point"===e.type&&i.isPointCoordinates(e.coordinates)&&i.validCRS(e)&&i.validBbox(e)},isMultiPoint:function(e){return null!=e&&"MultiPoint"===e.type&&i.isMultiPointCoordinates(e.coordinates)&&i.validCRS(e)&&i.validBbox(e)},isLineString:function(e){return null!=e&&"LineString"===e.type&&i.isLineStringCoordinates(e.coordinates)&&i.validCRS(e)&&i.validBbox(e)},isMultiLineString:function(e){return null!=e&&"MultiLineString"===e.type&&i.isMultiLineStringCoordinates(e.coordinates)&&i.validCRS(e)&&i.validBbox(e)},isPolygon:function(e){return null!=e&&"Polygon"===e.type&&i.isPolygonCoordinates(e.coordinates)&&i.validCRS(e)&&i.validBbox(e)},isMultiPolygon:function(e){return null!=e&&"MultiPolygon"===e.type&&i.isMultiPolygonCoordinates(e.coordinates)&&i.validCRS(e)&&i.validBbox(e)},isGeometryCollection:function(e){return null!=e&&"GeometryCollection"===e.type&&Array.isArray(e.geometries)&&e.geometries.every(i.isGeometry)&&i.validCRS(e)&&i.validBbox(e)},isFeature:function(e){return null!=e&&"Feature"===e.type&&"object"==typeof e.properties&&i.validCRS(e)&&i.validBbox(e)&&(null===e.geometry||i.isGeometry(e.geometry))},isFeatureCollection:function(e){return null!=e&&"FeatureCollection"===e.type&&Array.isArray(e.features)&&e.features.every(i.isFeature)&&i.validCRS(e)&&i.validBbox(e)},isGeometry:function(e){return i.isPoint(e)||i.isMultiPoint(e)||i.isLineString(e)||i.isMultiLineString(e)||i.isPolygon(e)||i.isMultiPolygon(e)||i.isGeometryCollection(e)},isGeoJSON:function(e){return i.isGeometry(e)||i.isFeature(e)||i.isFeatureCollection(e)},equalPositions:function(e,t){return i.isPosition(e)&&i.isPosition(t)&&e.length==t.length&&e.every(function(r,o){return e[o]==t[o]})},containedPolygon:function(e,t){return e.every(function(e){return r(e,t)})},Point:function(e,t,r){var o=null;return"number"==typeof t&&"number"==typeof e&&(o={type:"Point",coordinates:[t,e]},"number"==typeof r&&o.coordinates.push(r)),o},Feature:function(e,t){var r={type:"Feature",geometry:null,properties:"object"==typeof t?t:{}};return i.isGeometry(e)&&(r.geometry=e),r},FeatureCollection:function(e){var t={type:"FeatureCollection",features:[]};return i.isFeature(e)?t.features.push(e):Array.isArray(e)&&e.forEach(function(e){i.isFeature(e)&&t.features.push(e)}),t},GeometryCollection:function(e){var t={type:"GeometryCollection",geometries:[]};return i.isGeometry(e)?t.geometries.push(e):Array.isArray(e)&&e.forEach(function(e){i.isGeometry(e)&&t.geometries.push(e)}),t},positionsOf:function(e){var t=[],r=function(e){e.forEach(function(e){t.push(e)})},o=function(e){e.forEach(r)};switch(e.type){case"Point":t.push(e.coordinates);break;case"MultiPoint":case"LineString":r(e.coordinates);break;case"MultiLineString":case"Polygon":o(e.coordinates);break;case"MultiPolygon":e.coordinates.forEach(o);break;case"GeometryCollection":r(i.positionsOf(e.geometries));break;case"Feature":r(i.positionsOf(e.geometry));break;case"FeatureCollection":e.features.forEach(function(e){r(i.positionsOf(e.geometry))})}return t},featuresOf:function(e){var t=[];switch(e.type){case"Feature":t.push(e);break;case"FeatureCollection":e.features.forEach(function(e){i.featuresOf(e).forEach(function(e){t.push(e)})})}return t},geometriesOf:function(e){var t=[],r=function(e){i.geometriesOf(e.geometry).forEach(function(e){t.push(e)})};switch(e.type){case"Point":case"MultiPoint":case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":t.push(e);break;case"GeometryCollection":e.geometries.forEach(function(e){i.geometriesOf(e).forEach(function(e){t.push(e)})});break;case"Feature":r(e);break;case"FeatureCollection":e.features.forEach(r)}return t}}},{"point-in-polygon":3,"uri-js":7}],3:[function(e,t){t.exports=function(e,t){for(var r=e[0],o=e[1],i=!1,n=0,a=t.length-1;n<t.length;a=n++){var s=t[n][0],u=t[n][1],l=t[a][0],p=t[a][1],c=u>o!=p>o&&(l-s)*(o-u)/(p-u)+s>r;c&&(i=!i)}return i}},{}],4:[function(e){e("./schemes/http"),e("./schemes/urn")},{"./schemes/http":5,"./schemes/urn":6}],5:[function(e){!function(){var t=e("../uri").URI;t.SCHEMES.http={serialize:function(e){return(80===e.port||""===e.port)&&(e.port=void 0),e.path||(e.path="/"),e}}}()},{"../uri":7}],6:[function(e){!function(){var t=e("../uri"),r=t.URI,o=t.pctEncChar,i="(?:[0-9A-Za-z][0-9A-Za-z\\-]{1,31})",n="(?:\\%[0-9A-Fa-f]{2})",a="[0-9A-Za-z\\(\\)\\+\\,\\-\\.\\:\\=\\@\\;\\$\\_\\!\\*\\'\\/\\?\\#]",s="(?:(?:"+n+"|"+a+")+)",u=new RegExp("^urn\\:("+i+")$"),l=new RegExp("^("+i+")\\:("+s+")$"),p=/^([^\:]+)\:(.*)/,c=/[\x00-\x20\\\"\&\<\>\[\]\^\`\{\|\}\~\x7F-\xFF]/g,f=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/;r.SCHEMES.urn={parse:function(e,t){var o,i,n=e.path.match(l);return n||(t.tolerant||e.errors.push("URN is not strictly valid."),n=e.path.match(p)),n?(o="urn:"+n[1].toLowerCase(),i=r.SCHEMES[o],i||(i=r.SCHEMES[o]={}),i.serialize||(i.serialize=r.SCHEMES.urn.serialize),e.scheme=o,e.path=n[2],i.parse&&i.parse(e,t)):e.errors.push("URN can not be parsed."),e},serialize:function(e,t){var r,i=e.scheme||t.scheme;if(i&&"urn"!==i){var r=i.match(u);r||(r=["urn:"+i,i]),e.scheme="urn",e.path=r[1]+":"+(e.path?e.path.replace(c,o):"")}return e}},r.SCHEMES["urn:uuid"]={parse:function(e,t){t.tolerant||e.path&&e.path.match(f)||e.errors.push("UUID is not valid.")},serialize:function(e,t){return t.tolerant||e.path&&e.path.match(f)?e.path=(e.path||"").toLowerCase():e.scheme=void 0,r.SCHEMES.urn.serialize(e,t)}}}()},{"../uri":7}],7:[function(e,t,r){"undefined"==typeof r&&(r={}),"function"!=typeof e&&(e=function(){"use strict";return r}),URI=function(){"use strict";var t=function(e){for(var t=e,r=1,o=arguments[r];o;)t=t.slice(0,-1)+o.slice(1),o=arguments[++r];return t},o=function(e){return"(?:"+e+")"},i="[A-Za-z]",n="[0-9]",a=t(n,"[A-Fa-f]"),s=o("%"+a+a),u="[\\:\\/\\?\\#\\[\\]\\@]",l="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",p=t(u,l),c=t(i,n,"[\\-\\.\\_\\~]"),f=o(i+t(i,n,"[\\+\\-\\.]")+"*"),d=o(o(s+"|"+t(c,l,"[\\:]"))+"*"),h=o(o("25[0-5]")+"|"+o("2[0-4]"+n)+"|"+o("1"+n+n)+"|"+o("[1-9]"+n)+"|"+n),m=o(h+"\\."+h+"\\."+h+"\\."+h),g=o(a+"{1,4}"),v=(o(o(g+"\\:"+g)+"|"+m),o(t(c,l,"[\\:]")+"+")),y=o("v"+a+"+\\."+t(c,l,"[\\:]")+"+"),C=o("\\["+o(v+"|"+y)+"\\]"),S=o(o(s+"|"+t(c,l))+"*"),z=o(C+"|"+m+"|"+S),b=o(n+"*"),E=o(o(d+"@")+"?"+z+o("\\:"+b)+"?"),x=o(s+"|"+t(c,l,"[\\:\\@]")),F=o(x+"*"),P=o(x+"+"),L=o(o(s+"|"+t(c,l,"[\\@]"))+"+"),M=o(o("\\/"+F)+"*"),k=o("\\/"+o(P+M)+"?"),A=o(L+M),O=o(P+M),w=o(""),R=(o(M+"|"+k+"|"+A+"|"+O+"|"+w),o(o(x+"|[\\/\\?]")+"*")),q=o(o(x+"|[\\/\\?]")+"*"),I=o(o("\\/\\/"+E+M)+"|"+k+"|"+O+"|"+w),N=o(f+"\\:"+I+o("\\?"+R)+"?"+o("\\#"+q)+"?"),G=o(o("\\/\\/"+E+M)+"|"+k+"|"+A+"|"+w),H=o(G+o("\\?"+R)+"?"+o("\\#"+q)+"?"),U=(o(N+"|"+H),o(f+"\\:"+I+o("\\?"+R)+"?"),"^("+f+")\\:"+o(o("\\/\\/("+o("("+d+")@")+"?("+z+")"+o("\\:("+b+")")+"?)")+"?("+M+"|"+k+"|"+O+"|"+w+")")+o("\\?("+R+")")+"?"+o("\\#("+q+")")+"?$"),V="^(){0}"+o(o("\\/\\/("+o("("+d+")@")+"?("+z+")"+o("\\:("+b+")")+"?)")+"?("+M+"|"+k+"|"+A+"|"+w+")")+o("\\?("+R+")")+"?"+o("\\#("+q+")")+"?$",B=("^("+f+")\\:"+o(o("\\/\\/("+o("("+d+")@")+"?("+z+")"+o("\\:("+b+")")+"?)")+"?("+M+"|"+k+"|"+O+"|"+w+")")+o("\\?("+R+")")+"?$","^"+o("\\#("+q+")")+"?$","^"+o("("+d+")@")+"?("+z+")"+o("\\:("+b+")")+"?$",new RegExp("("+U+")|("+V+")")),j=new RegExp(t("[^]",i,n,"[\\+\\-\\.]"),"g"),T=new RegExp(t("[^\\%\\:]",c,l),"g"),$=new RegExp(t("[^\\%]",c,l),"g"),_=new RegExp(t("[^\\%\\/\\:\\@]",c,l),"g"),D=new RegExp(t("[^\\%\\/\\@]",c,l),"g"),J=new RegExp(t("[^\\%]",c,l,"[\\:\\@\\/\\?]"),"g"),Z=J,W=new RegExp(t("[^]",c,l),"g"),K=new RegExp(c,"g"),Q=(new RegExp(t("[^\\%]",c,p),"g"),new RegExp(s+"+","g")),X=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?([^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n)*))?/i,Y=/^\.\.?\//,et=/^\/\.(\/|$)/,tt=/^\/\.\.(\/|$)/,rt=/^\/?(?:.|\n)*?(?=\/|$)/,ot=void 0==="".match(/(){0}/)[1],it=function(e){var t,r=e.charCodeAt(0);return t=16>r?"%0"+r.toString(16).toUpperCase():128>r?"%"+r.toString(16).toUpperCase():2048>r?"%"+(r>>6|192).toString(16).toUpperCase()+"%"+(63&r|128).toString(16).toUpperCase():"%"+(r>>12|224).toString(16).toUpperCase()+"%"+(r>>6&63|128).toString(16).toUpperCase()+"%"+(63&r|128).toString(16).toUpperCase()},nt=function(e){for(var t,r,o="",i=0;i<e.length;)t=parseInt(e.substr(i+1,2),16),128>t?(r=String.fromCharCode(t),o+=r.match(K)?r:e.substr(i,3),i+=3):t>191&&224>t?(o+=e.substr(i,6),i+=6):(o+=e.substr(i,9),i+=9);return o},at=function(e){for(var t,r,o,i="",n=0;n<e.length;)t=parseInt(e.substr(n+1,2),16),128>t?(i+=String.fromCharCode(t),n+=3):t>191&&224>t?(r=parseInt(e.substr(n+4,2),16),i+=String.fromCharCode((31&t)<<6|63&r),n+=6):(r=parseInt(e.substr(n+4,2),16),o=parseInt(e.substr(n+7,2),16),i+=String.fromCharCode((15&t)<<12|(63&r)<<6|63&o),n+=9);return i},st=function(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()},ut=function(){this.errors=[]},lt=r;return ut.prototype={scheme:void 0,userinfo:void 0,host:void 0,port:void 0,path:void 0,query:void 0,fragment:void 0,reference:void 0,errors:void 0},lt.SCHEMES={},lt.parse=function(e,t){var r,o,i=new ut;return e=e?e.toString():"",t=t||{},"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e),r=e.match(B),r&&(r=r[1]?r.slice(1,10):r.slice(10,19)),r||(t.tolerant||i.errors.push("URI is not strictly valid."),r=e.match(X)),r?(ot?(i.scheme=r[1],i.userinfo=r[3],i.host=r[4],i.port=parseInt(r[5],10),i.path=r[6]||"",i.query=r[7],i.fragment=r[8],isNaN(i.port)&&(i.port=r[5])):(i.scheme=r[1]||void 0,i.userinfo=-1!==e.indexOf("@")?r[3]:void 0,i.host=-1!==e.indexOf("//")?r[4]:void 0,i.port=parseInt(r[5],10),i.path=r[6]||"",i.query=-1!==e.indexOf("?")?r[7]:void 0,i.fragment=-1!==e.indexOf("#")?r[8]:void 0,isNaN(i.port)&&(i.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?r[4]:void 0)),i.reference=void 0===i.scheme&&void 0===i.userinfo&&void 0===i.host&&void 0===i.port&&void 0===i.path&&void 0===i.query?"same-document":void 0===i.scheme?"relative":void 0===i.fragment?"absolute":"uri",t.reference&&"suffix"!==t.reference&&t.reference!==i.reference&&i.errors.push("URI is not a "+t.reference+" reference."),o=lt.SCHEMES[(t.scheme||i.scheme||"").toLowerCase()],o&&o.parse&&o.parse(i,t)):i.errors.push("URI can not be parsed."),i},lt._recomposeAuthority=function(e){var t=[];return void 0!==e.userinfo&&(t.push(e.userinfo.toString().replace(T,it)),t.push("@")),void 0!==e.host&&t.push(e.host.toString().toLowerCase().replace($,it)),"number"==typeof e.port&&(t.push(":"),t.push(e.port.toString(10))),t.length?t.join(""):void 0},lt.removeDotSegments=function(e){for(var t,r=[];e.length;)e.match(Y)?e=e.replace(Y,""):e.match(et)?e=e.replace(et,"/"):e.match(tt)?(e=e.replace(tt,"/"),r.pop()):"."===e||".."===e?e="":(t=e.match(rt)[0],e=e.slice(t.length),r.push(t));return r.join("")},lt.serialize=function(e,t){var r,o,i,n=[];return t=t||{},r=lt.SCHEMES[(t.scheme||e.scheme||"").toLowerCase()],r&&r.serialize&&r.serialize(e,t),"suffix"!==t.reference&&e.scheme&&(n.push(e.scheme.toString().toLowerCase().replace(j,"")),n.push(":")),o=lt._recomposeAuthority(e),void 0!==o&&("suffix"!==t.reference&&n.push("//"),n.push(o),e.path&&"/"!==e.path.charAt(0)&&n.push("/")),void 0!==e.path&&(i=lt.removeDotSegments(e.path.toString().replace(/%2E/gi,".")),i=e.scheme?i.replace(_,it):i.replace(D,it),void 0===o&&(i=i.replace(/^\/\//,"/%2F")),n.push(i)),void 0!==e.query&&(n.push("?"),n.push(e.query.toString().replace(J,it))),void 0!==e.fragment&&(n.push("#"),n.push(e.fragment.toString().replace(Z,it))),n.join("").replace(Q,nt).replace(/%[0-9A-Fa-f]{2}/g,function(e){return e.toUpperCase()})},lt.resolveComponents=function(e,t,r,o){var i=new ut;return o||(e=lt.parse(lt.serialize(e,r),r),t=lt.parse(lt.serialize(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(i.scheme=t.scheme,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=lt.removeDotSegments(t.path),i.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=lt.removeDotSegments(t.path),i.query=t.query):(t.path?("/"===t.path.charAt(0)?i.path=lt.removeDotSegments(t.path):(i.path=void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:t.path:"/"+t.path,i.path=lt.removeDotSegments(i.path)),i.query=t.query):(i.path=e.path,i.query=void 0!==t.query?t.query:e.query),i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=t.fragment,i},lt.resolve=function(e,t,r){return lt.serialize(lt.resolveComponents(lt.parse(e,r),lt.parse(t,r),r,!0),r)},lt.normalize=function(e,t){return"string"==typeof e?e=lt.serialize(lt.parse(e,t),t):"object"===st(e)&&(e=lt.parse(lt.serialize(e,t),t)),e},lt.equal=function(e,t,r){return"string"==typeof e?e=lt.serialize(lt.parse(e,r),r):"object"===st(e)&&(e=lt.serialize(e,r)),"string"==typeof t?t=lt.serialize(lt.parse(t,r),r):"object"===st(t)&&(t=lt.serialize(t,r)),e===t},lt.escapeComponent=function(e){return e&&e.toString().replace(W,it)},lt.unescapeComponent=function(e){return e&&e.toString().replace(Q,at)},r.pctEncChar=it,r.pctDecChars=at,r.Components=ut,r.URI=lt,r.pctEncChar=it,r.pctDecChars=at,r.Components=ut,r.URI={SCHEMES:lt.SCHEMES,parse:lt.parse,removeDotSegments:lt.removeDotSegments,serialize:lt.serialize,resolveComponents:lt.resolveComponents,resolve:lt.resolve,normalize:lt.normalize,equal:lt.equal,escapeComponent:lt.escapeComponent,unescapeComponent:lt.unescapeComponent},e("./schemes"),lt}()},{"./schemes":4}],8:[function(e,t){var r=e("../node_modules/gjtk"),o=t.exports={version:"0.1.0",render:function(e,t){if(null!=e.properties){var r=document.createElement("article");return r.className="plain",r.innerHTML=Vizit.HTMLFeature(e),"string"==typeof e.properties.location?(r.innerHTML+="<address>"+e.properties.location+"</address>",t.appendChild(r)):"Point"===e.geometry.type?$.get("http://nominatim.openstreetmap.org/reverse?format=xml&lat="+e.geometry.coordinates[1].toString()+"&lon="+e.geometry.coordinates[0].toString()).done(function(o){e.properties.location=$(o).find("result").text(),r.innerHTML+="<address>"+e.properties.location+"</address>",t.appendChild(r)}).fail(function(e,t,r){console.error("Error: "+r)}):""!=r.innerHTML&&t.appendChild(r),r}},visualizer:function(e,t){var i=document.getElementById(t);Vizit.features(e).map(function(e){var t=o.render(e,i);"undefined"!=typeof t&&(t.className+=r.isFeatureCollection(e.properties.related)?" epicenter":" aftershock")})}}},{"../node_modules/gjtk":2}],9:[function(e,t,r){var o=e("../node_modules/gjtk");r.version="0.1.0",r.visualization=function(e){var t=L.map(e).setView([0,0],3);return L.tileLayer("http://{s}.tile.osm.org/{z}/{x}/{y}.png",{minZoom:0,maxZoom:24,maxNativeZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',tms:!1,continuousWorld:!1,noWrap:!0,zoomOffset:0,zoomReverse:!1,opactiy:1,zIndex:null,unloadInvisibleTiles:!1,updateWhenIdle:!1,detectRetina:!1,reuseTiles:!1,bounds:null}).addTo(t),t},r.FeatureStylist=function(e,t){if(null!=e.properties){var r=e.properties;if("Marker"===r.marker){var o={};return null!=r.markerOptions&&(o=r.markerOptions),L.marker(t,o)}if("CircleMarker"===r.marker){var i={};return null!=r.markerOptions&&(i=r.markerOptions),L.circleMarker(t,i)}}return L.marker(t)},r.GeoJSONStylist=function(e,t){if(null!=e.properties){var r=Vizit.HTMLFeature(e);""!==r&&t.bindPopup('<article class="popup">'+r+"</article>")}},r.FeatureProcessor=function(e,t,i){if(null!=i.geometry){if(null!=i.properties&&"number"==typeof i.properties.radius){var n={stroke:!0,color:"#000",weight:1,opacity:1,fill:!0,fillColor:"#fff",fillOpacity:.4,dashArray:null,lineCap:null,lineJoin:null,clickable:!0,pointerEvents:null,className:""};if(null!=i.properties.radiusOptions){var a=i.properties.radiusOptions;"boolean"==typeof a.stroke&&(n.stroke=a.stroke),"string"==typeof a.color&&(n.color=a.color),"number"==typeof a.weight&&(n.weight=a.weight),"number"==typeof a.opacity&&(n.opacity=a.opacity),"boolean"==typeof a.fill&&(n.fill=a.fill),"string"==typeof a.fillColor&&(n.fillColor=a.fillColor),"number"==typeof a.fillOpacity&&(n.fillOpacity=a.fillOpacity),"string"==typeof a.dashArray&&(n.dashArray=a.dashArray),"string"==typeof a.lineCap&&(n.lineCap=a.lineCap),"string"==typeof a.lineJoin&&(n.lineJoin=a.lineJoin),"boolean"==typeof a.clickable&&(n.clickable=a.clickable),"string"==typeof a.pointerEvents&&(n.pointerEvents=a.pointerEvents),"string"==typeof a.className&&(n.className=a.className)}L.circle([i.geometry.coordinates[1],i.geometry.coordinates[0]],i.properties.radius,n).addTo(e)}t.addData(i),o.isFeatureCollection(i.properties.related)&&r.FeatureCollectionProcessor(e,t,i.properties.related)}},r.FeatureCollectionProcessor=function(e,t,o){o.features.forEach(function(o){r.FeatureProcessor(e,t,o)})},r.GeoJSONProcessor=function(e,t,i){o.isFeature(i)?null!==i.geometry&&r.FeatureProcessor(e,t,i):o.isFeatureCollection(i)?i.features.length>0&&r.FeatureCollectionProcessor(e,t,i):(!o.isGeometryCollection(i)||i.geometries.length>0)&&t.addData(i)},r.visualizer=function(e,t){var i=r.visualization(t),n=L.geoJson(null,{pointToLayer:r.FeatureStylist,onEachFeature:r.GeoJSONStylist}).addTo(i);if(r.GeoJSONProcessor(i,n,e),n.getBounds().isValid()&&i.fitBounds(n),L.control.scale().addTo(i),o.isFeatureCollection(e)&&e.features.length>1){var a=L.control.sliderControl({position:"topright",layer:n,range:!0});i.addControl(a),a.startSlider()}return i}},{"../node_modules/gjtk":2}]},{},[1]);
